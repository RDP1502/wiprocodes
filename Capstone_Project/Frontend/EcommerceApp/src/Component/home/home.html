




<div class="border border-success p-2 mb-2">
<div class="profile-container">
  <div class="profile">
    <img [src]="userIcon" class="user-icon" />
    <div class="user-details">
    <h2>{{ loggedUser.firstName }} {{ loggedUser.lastName }}</h2>
    <p>Email: {{ loggedUser.emailId }}</p>
  </div>
</div>


  @if (role === 'ROLE_ADMIN') {
    <div class="admin-section">
      <h3>Admin Panel</h3>
      <button class="btn btn-primary me-2" (click)="manage()">Manage Users</button>
      <button class="btn btn-warning me-2" (click)="addProduct() ">Add Products</button>
      <button class="btn btn-danger">View All Orders</button>
    </div>
  }

  @if (role === 'ROLE_USER') {
    <div class="user-section">
      <h3>Your Actions</h3>
      <button class="btn btn-success">View My Orders</button>
      <button class="btn btn-info" (click)="updateProfile()">Update Profile</button>
      <button class="btn btn-info" (click)="shopNow()">Shop Now</button>
      <button class="btn btn-danger" (click)="logout(userId)">Logout</button>
    </div>
  }
</div>
</div>


@if (update==true) {
<div class="update-container">
  <div class="update-form">
    <h3>Update Profile</h3>

   
      <div class="form-row">
        <input type="text" class="form-control" [(ngModel)]="updatedUser.firstName" placeholder="First name">
      </div>
      <div class="form-row">
        <input type="text" class="form-control" [(ngModel)]="updatedUser.lastName" placeholder="Last name">
      </div>
      <div class="form-row">
        <input type="email" class="form-control"[(ngModel)]="updatedUser.emailId" placeholder="Email">
      </div>
      <div class="form-row">
        <input type="text" class="form-control" [(ngModel)]="updatedUser.address" placeholder="Address">
      </div>

      <div class="form-row text-center">
        <button class="btn btn-success" (click) = "updateUser()">Save</button>
      </div>
    <!-- </form> -->
  </div>
</div>
}

@if (manageUser == true) {
  
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">User Name</th>
      <th scope="col">Address</th>
      <th scope="col">Email Id</th>
    </tr>
  </thead>
  @for (user of users; track $index) {
  <tbody>
    <tr>
      <th scope="row">{{$index+1}}</th>
      <td>{{user.firstName}} {{user.lastName}}</td>
      <td>{{user.address}}</td>
      <td>{{user.emailId}}</td>
    </tr>

  }

</table>
}